webpackJsonp([2],{352:function(t,e,a){var r=a(353);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(339)("46c49444",r,!0)},353:function(t,e,a){e=t.exports=a(106)(void 0),e.push([t.i,".character-list .tool[data-v-ccde39a8]{margin:20px auto;width:80%}.character-list .my-list[data-v-ccde39a8]{text-align:center;margin:20px auto;width:80%}.character-list .my-list .tag[data-v-ccde39a8]{margin:4px}.character-list .my-list .tag.physical[data-v-ccde39a8]{color:#fe4c40;background-color:#fcc;border-color:#fe4c40}.character-list .my-list .tag.spell[data-v-ccde39a8]{color:#96c;background-color:#d9b3e6;border-color:#96c}.character-list .my-list .tag.supporter[data-v-ccde39a8]{color:#199475;background-color:#9c3;border-color:#199475}.character-list .my-list .line-btn[data-v-ccde39a8]{margin:0 10px}",""])},354:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(28);e.default={name:"character-list",created:function(){this.getList()},data:function(){return{typeMap:{physical:"physical",spell:"spell",supporter:"supporter"},list:[],page:1,total:0,size:10}},methods:{toAdd:function(){this.$router.push({name:"Character-Edit",params:{id:0}})},toEdit:function(t){this.$router.push({name:"Character-Edit",params:{id:t}})},sizeChange:function(t){this.size=t,this.getList()},pageChange:function(t){this.page=t,this.getList()},getList:function(){var t=this;t.$ajax("get","/api/character",{page:t.page,size:t.size},function(e){e.list.forEach(function(t){t.showDelete=!1}),t.list=e.list,t.total=e.total})},deleteLine:function(t){var e=this,a=t.id||t._id;return e.$ajax("delete","/api/character/"+a,{},function(t){e.getList()})}},computed:Object(r.b)({}),watch:{},components:{}}},355:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"character-list"},[a("div",{staticClass:"tool"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.toAdd}})],1),a("el-table",{staticClass:"my-list",attrs:{data:t.list,border:"","highlight-current-row":!0}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"Name"}}),a("el-table-column",{attrs:{prop:"type",label:"Type",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.types,function(e){return a("el-tag",{key:e,staticClass:"tag",class:[t.typeMap[e]],attrs:{type:"success","close-transition":""}},[t._v(t._s(e))])})}}])}),a("el-table-column",{attrs:{label:"Create Time",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.create_time))+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"Operation",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"line-btn",attrs:{type:"text",size:"mini"},on:{click:function(a){t.toEdit(e.row.id)}}},[t._v("Edit")]),a("el-popover",{attrs:{width:"160"},model:{value:e.row.showDelete,callback:function(a){t.$set(e.row,"showDelete",a)},expression:"scope.row.showDelete"}},[a("p",[t._v("确定删除吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.showDelete=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){t.deleteLine(e.row)}}},[t._v("确定")])],1),a("el-button",{staticClass:"line-btn",attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("Delete")])],1)]}}])})],1),a("el-pagination",{staticClass:"tool",attrs:{"current-page":t.page,"page-sizes":[5,10,15,20],"page-size":t.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},staticRenderFns:[]}},356:function(t,e,a){var r=a(357);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(339)("39da4198",r,!0)},357:function(t,e,a){e=t.exports=a(106)(void 0),e.push([t.i,".character-edit .my-form[data-v-ae4dead0]{margin:20px auto;padding-right:30%;width:80%}",""])},358:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(28);e.default={name:"character-edit",created:function(){var t=this;t.$route.params&&t.$route.params.id&&0!=t.$route.params.id&&(t.id=t.$route.params.id,t.getData())},data:function(){return{id:0,form:{name:"",types:[]},typeOptions:[{value:"physical",label:"Physical"},{value:"spell",label:"Spell"},{value:"supporter",label:"Supporter"}]}},methods:{toList:function(){this.$router.push({name:"Character-List"})},getData:function(){var t=this;return t.$ajax("get","/api/character/"+t.id,{},function(e){t.form=e})},save:function(){var t=this;return t.id&&0!=t.id?t.$ajax("put","/api/character/"+t.id,t.form,function(e){t.toList()}):t.$ajax("post","/api/character",t.form,function(e){t.toList()})}},computed:Object(r.b)({}),watch:{},components:{}}},359:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"character-edit"},[a("el-form",{ref:"form",staticClass:"my-form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Type"}},[a("el-select",{attrs:{placeholder:"choose a type",multiple:""},model:{value:t.form.types,callback:function(e){t.$set(t.form,"types",e)},expression:"form.types"}},t._l(t.typeOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),a("el-form-item",[a("c-button",{attrs:{type:"primary",clickFunc:[t.save]}},[t._v("保存")]),a("el-button",{on:{click:t.toList}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},414:function(t,e,a){function r(t){a(352)}var i=a(27)(a(354),a(355),r,"data-v-ccde39a8",null);t.exports=i.exports},415:function(t,e,a){function r(t){a(356)}var i=a(27)(a(358),a(359),r,"data-v-ae4dead0",null);t.exports=i.exports}});