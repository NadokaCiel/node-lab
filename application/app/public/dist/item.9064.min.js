webpackJsonp([0],{378:function(t,e,o){var n=o(379);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("710b3480",n,!0)},379:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,".item-list .tool[data-v-45af0f22]{margin:20px auto;width:80%}.item-list .my-list[data-v-45af0f22]{text-align:center;margin:20px auto;width:80%}.item-list .my-list .tag[data-v-45af0f22]{margin:4px}.item-list .my-list .tag.physical[data-v-45af0f22]{color:#fe4c40;background-color:#fcc;border-color:#fe4c40}.item-list .my-list .tag.spell[data-v-45af0f22]{color:#96c;background-color:#d9b3e6;border-color:#96c}.item-list .my-list .tag.supporter[data-v-45af0f22]{color:#199475;background-color:#9c3;border-color:#199475}.item-list .my-list .line-btn[data-v-45af0f22]{margin:0 10px}",""])},380:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(28);e.default={name:"item-list",created:function(){this.getList()},data:function(){return{typeMap:{food:"food",weapon:"weapon",armor:"armor"},list:[],page:1,total:0,size:10}},methods:{toAdd:function(){this.$router.push({name:"Item-Edit",params:{id:0}})},toEdit:function(t){this.$router.push({name:"Item-Edit",params:{id:t}})},sizeChange:function(t){this.size=t,this.getList()},pageChange:function(t){this.page=t,this.getList()},getList:function(){var t=this;t.$ajax("get","/api/item",{page:t.page,size:t.size},function(e){e.list.forEach(function(t){t.showDelete=!1}),t.list=e.list,t.total=e.total})},deleteLine:function(t){var e=this,o=t.id||t._id;return e.$ajax("delete","/api/item/"+o,{},function(t){e.getList()})}},computed:Object(n.b)({}),watch:{},components:{}}},381:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item-list"},[o("div",{staticClass:"tool"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.toAdd}})],1),o("el-table",{staticClass:"my-list",attrs:{data:t.list,border:"","highlight-current-row":!0}},[o("el-table-column",{attrs:{prop:"id",label:"ID"}}),o("el-table-column",{attrs:{prop:"name",label:"Name"}}),o("el-table-column",{attrs:{prop:"type",label:"Type",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.types,function(e){return o("el-tag",{key:e,staticClass:"tag",class:[t.typeMap[e]],attrs:{type:"success","close-transition":""}},[t._v(t._s(e))])})}}])}),o("el-table-column",{attrs:{label:"Create Time",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.create_time))+"\n      ")]}}])}),o("el-table-column",{attrs:{label:"Operation",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{staticClass:"line-btn",attrs:{type:"text",size:"mini"},on:{click:function(o){t.toEdit(e.row.id)}}},[t._v("Edit")]),o("el-popover",{attrs:{width:"160"},model:{value:e.row.showDelete,callback:function(o){t.$set(e.row,"showDelete",o)},expression:"scope.row.showDelete"}},[o("p",[t._v("确定删除吗？")]),o("div",{staticStyle:{"text-align":"right",margin:"0"}},[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.showDelete=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(o){t.deleteLine(e.row)}}},[t._v("确定")])],1),o("el-button",{staticClass:"line-btn",attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("Delete")])],1)]}}])})],1),o("el-pagination",{staticClass:"tool",attrs:{"current-page":t.page,"page-sizes":[5,10,15,20],"page-size":t.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},staticRenderFns:[]}},382:function(t,e,o){var n=o(383);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("4419d930",n,!0)},383:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,".item-edit .my-form[data-v-54f7368e]{margin:20px auto;padding-right:30%;width:80%}",""])},384:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(28);e.default={name:"item-edit",created:function(){var t=this;t.$route.params&&t.$route.params.id&&0!=t.$route.params.id&&(t.id=t.$route.params.id,t.getData())},data:function(){return{id:0,form:{name:"",type:""},typeOptions:[{value:"food",label:"food"},{value:"weapon",label:"weapon"},{value:"armor",label:"armor"}]}},methods:{toList:function(){this.$router.push({name:"Item-List"})},getData:function(){var t=this;return t.$ajax("get","/api/item/"+t.id,{},function(e){t.form=e})},save:function(){var t=this;return t.id&&0!=t.id?t.$ajax("put","/api/item/"+t.id,t.form,function(e){t.toList()}):t.$ajax("post","/api/item",t.form,function(e){t.toList()})}},computed:Object(n.b)({}),watch:{},components:{}}},385:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item-edit"},[o("el-form",{ref:"form",staticClass:"my-form",attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"Name"}},[o("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"Type"}},[o("el-select",{attrs:{placeholder:"choose a type"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.typeOptions,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),o("el-form-item",[o("c-button",{attrs:{type:"primary",clickFunc:[t.save]}},[t._v("保存")]),o("el-button",{on:{click:t.toList}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}},386:function(t,e,o){var n=o(387);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("104914e1",n,!0)},387:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,".item-test .my-form[data-v-9dc0edd4]{margin:60px auto;width:70%}",""])},388:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(28),a=o(389),r=o.n(a);e.default={name:"item-test",created:function(){},data:function(){return{settings:{name:{title:"Name",description:"No more than 8 words",type:"string",format:"string",default:"ItemX"},type:{title:"Type",description:"Item type",type:"string",format:"enum",enum:[{label:"food",value:"food"},{label:"weapon",value:"weapon"},{label:"armor",value:"armor"}],default:"food"},color:{title:"Color",description:"Please input the color in hex-format",type:"string",format:"color",default:"#FFF",pattern:"^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$"},amount:{title:"Amount",type:"number",format:"number",default:1}},layout:[{title:"Basic Info",contains:["name","type"]},{title:"Basic Attributes",contains:["color","amount"]},{title:"Extra Attributes",contains:[]}]}},methods:{toList:function(){this.$router.push({name:"Item-List"})},formChange:function(t){}},computed:Object(n.b)({}),watch:{},components:{cForm:r.a}}},389:function(t,e,o){function n(t){o(390),o(392)}var a=o(27)(o(394),o(409),n,"data-v-03a37cb0",null);t.exports=a.exports},390:function(t,e,o){var n=o(391);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("9dd0e93c",n,!0)},391:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,"",""])},392:function(t,e,o){var n=o(393);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("63420b76",n,!0)},393:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,".setting-form .el-collapse-item__header{padding-left:20px;background-color:#dcf7a1;border-color:#d9b3e6}.setting-form .el-collapse-item__content{padding-bottom:5px}.setting-form .el-collapse-item__content:first-child{margin-top:25px}.setting-form .el-form-item{width:80%}.setting-form .el-form-item .el-select .el-input--small .el-input__inner{height:28px}",""])},394:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(37),a=o.n(n),r=o(28),i={},l={number:o(395),string:o(398),color:o(401),enum:o(406)},s=l;e.default={name:"c-form",props:{settings:{type:Object,default:function(){return{}}},values:{type:Array,default:function(){return[]}},layout:{type:Array,default:function(){return[]}}},data:function(){return{formJson:{},settingForm:{},settingRules:{},collapseList:[0,1,2,3]}},created:function(){this.onValuesChanged()},methods:{onValuesChanged:function(){var t=this,e={},o={};a()(this.settings).forEach(function(n){var a=t.settings[n].format;e[n]={title:n,value:t.values[n]||t.settings[n].default};var r={type:t.settings[n].type||"",message:t.settings[n].title+" Error",trigger:"change",pattern:null};if(t.settings[n].pattern&&(r.pattern=new RegExp(t.settings[n].pattern)),o[n]=[r],i[a]){var l={validator:i[a],trigger:"change"};o[n].push(l)}});var n={};a()(e).forEach(function(t){n[t]=e[t].value}),this.formJson=n,this.settingForm=e,this.settingRules=o},formChanged:function(t){var e=this,o={};a()(this.settingForm).forEach(function(t){o[t]=e.settingForm[t].value}),this.formJson=o,this.$nextTick(function(){e.$refs.settingConfig.validate(function(t){t&&e.$emit("change",e.formJson)})})}},computed:Object(r.b)(["bus"]),watch:{values:"onValuesChanged"},components:s}},395:function(t,e,o){var n=o(27)(o(396),o(397),null,null,null);t.exports=n.exports},396:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-number",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}},userChange:{type:Function,default:function(){}}},data:function(){return{}},created:function(){},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},397:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input-number",{staticClass:"form-number",attrs:{min:1,max:10},on:{change:t.userChange},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})},staticRenderFns:[]}},398:function(t,e,o){var n=o(27)(o(399),o(400),null,null,null);t.exports=n.exports},399:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-string",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},400:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",{staticClass:"form-string",model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})},staticRenderFns:[]}},401:function(t,e,o){function n(t){o(402)}var a=o(27)(o(404),o(405),n,null,null);t.exports=a.exports},402:function(t,e,o){var n=o(403);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(339)("6e356bfe",n,!0)},403:function(t,e,o){e=t.exports=o(106)(void 0),e.push([t.i,".form-color .color-picker{float:left;height:26px}.form-color .color-picker .el-color-picker__trigger{border:none;height:26px;padding:5px}.form-color .color-picker .el-color-picker__trigger .el-color-picker__color{width:16px;height:16px}.form-color .color-picker .el-color-picker__trigger .el-color-picker__icon{display:none}.form-color .color-shower{float:left;margin-top:4px}.form-color .color-shower .el-input-group__prepend{padding:0}",""])},404:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-color",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{setColor:function(t){},valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},405:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-color"},[o("el-input",{staticClass:"color-shower",attrs:{placeholder:"请输入内容"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},[o("template",{attrs:{slot:"prepend"},slot:"prepend"},[o("el-color-picker",{staticClass:"color-picker",on:{"active-change":t.setColor},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],2)],1)},staticRenderFns:[]}},406:function(t,e,o){var n=o(27)(o(407),o(408),null,null,null);t.exports=n.exports},407:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-enum",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{enum:[]}}}},data:function(){return{}},created:function(){var t=this;t.option.enum||(t.option.enum=[])},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},408:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-select",{staticClass:"form-enum",attrs:{size:"small",placeholder:t.option.description||"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.option.enum,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},409:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",{ref:"settingConfig",staticClass:"setting-form",attrs:{model:t.formJson,rules:t.settingRules,"label-width":"25%"},nativeOn:{submit:function(t){t.preventDefault()}}},[o("el-collapse",{model:{value:t.collapseList,callback:function(e){t.collapseList=e},expression:"collapseList"}},t._l(t.layout,function(e,n){return o("el-collapse-item",{key:e.title,attrs:{title:e.title,name:n}},t._l(t.settings,function(n,a){return e.contains.includes(a)?o("el-form-item",{key:a,attrs:{label:n.title,prop:a}},[o(n.format,{tag:"component",staticClass:"setting-line",attrs:{form:t.settingForm[a],option:n},on:{change:function(e){t.formChanged(a)}}})],1):t._e()}))}))],1)},staticRenderFns:[]}},410:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item-test"},[o("c-form",{staticClass:"my-form",attrs:{settings:t.settings,layout:t.layout},on:{change:t.formChange}})],1)},staticRenderFns:[]}},417:function(t,e,o){function n(t){o(378)}var a=o(27)(o(380),o(381),n,"data-v-45af0f22",null);t.exports=a.exports},418:function(t,e,o){function n(t){o(382)}var a=o(27)(o(384),o(385),n,"data-v-54f7368e",null);t.exports=a.exports},419:function(t,e,o){function n(t){o(386)}var a=o(27)(o(388),o(410),n,"data-v-9dc0edd4",null);t.exports=a.exports}});