webpackJsonp([2],{352:function(t,e,n){function o(t){n(353),n(355)}var r=n(27)(n(357),n(372),o,"data-v-03a37cb0",null);t.exports=r.exports},353:function(t,e,n){var o=n(354);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(340)("1fdfac38",o,!0)},354:function(t,e,n){e=t.exports=n(106)(!1),e.push([t.i,"",""])},355:function(t,e,n){var o=n(356);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(340)("035d3d34",o,!0)},356:function(t,e,n){e=t.exports=n(106)(!1),e.push([t.i,".setting-form .el-collapse-item__header{padding-left:20px;background-color:#dcf7a1;border-color:#d9b3e6}.setting-form .el-collapse-item__content{padding-bottom:5px}.setting-form .el-collapse-item__content:first-child{margin-top:25px}.setting-form .el-form-item{width:80%}.setting-form .el-form-item .el-select .el-input--small .el-input__inner{height:28px}",""])},357:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(37),r=n.n(o),a=n(28),i={color:function(t,e,n){new RegExp("^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$").test(e)?n():n(new Error("illegal color！"))}},l={number:n(358),string:n(361),color:n(364),enum:n(369)},s=l;e.default={name:"c-form",props:{settings:{type:Object,default:function(){return{}}},values:{type:Object,default:function(){return{}}},layout:{type:Array,default:function(){return[]}}},data:function(){return{formJson:{},settingForm:{},settingRules:{},collapseList:[0,1,2,3]}},created:function(){this.onValuesChanged()},methods:{onValuesChanged:function(){var t=this,e={},n={};r()(this.settings).forEach(function(o){var r=t.settings[o].format;e[o]={title:o,value:t.values[o]||t.settings[o].default};var a={type:t.settings[o].type||"",message:t.settings[o].title+" Error",trigger:"change",pattern:null};if(t.settings[o].pattern&&(a.pattern=new RegExp(t.settings[o].pattern)),n[o]=[a],t.settings[o].required){var l={required:!0,message:"Please Enter "+t.settings[o].title,trigger:"change"};n[o].push(l)}if(i[r]){var s={validator:i[r],trigger:"change"};n[o].push(s)}});var o={};r()(e).forEach(function(t){o[t]=e[t].value}),this.formJson=o,this.settingForm=e,this.settingRules=n},formChanged:function(t){var e=this,n={};r()(this.settingForm).forEach(function(t){n[t]=e.settingForm[t].value}),this.formJson=n,this.$nextTick(function(){e.$refs.settingConfig.validate(function(t){e.$emit("change",t,e.formJson),t&&e.$emit("valid",e.formJson)})})}},computed:Object(a.b)(["bus"]),watch:{values:"onValuesChanged"},components:s}},358:function(t,e,n){var o=n(27)(n(359),n(360),null,null,null);t.exports=o.exports},359:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-number",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}},userChange:{type:Function,default:function(){}}},data:function(){return{}},created:function(){},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},360:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input-number",{staticClass:"form-number",attrs:{min:t.option.min||0,max:t.option.max||1/0},on:{change:t.userChange},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})},staticRenderFns:[]}},361:function(t,e,n){var o=n(27)(n(362),n(363),null,null,null);t.exports=o.exports},362:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-string",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},363:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-input",{staticClass:"form-string",model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})},staticRenderFns:[]}},364:function(t,e,n){function o(t){n(365)}var r=n(27)(n(367),n(368),o,null,null);t.exports=r.exports},365:function(t,e,n){var o=n(366);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(340)("0d2a6f82",o,!0)},366:function(t,e,n){e=t.exports=n(106)(!1),e.push([t.i,".form-color .color-picker{float:left;height:26px}.form-color .color-picker .el-color-picker__trigger{border:none;height:26px;padding:5px}.form-color .color-picker .el-color-picker__trigger .el-color-picker__color{width:16px;height:16px}.form-color .color-picker .el-color-picker__trigger .el-color-picker__icon{display:none}.form-color .color-shower{float:left;margin-top:4px}.form-color .color-shower .el-input-group__prepend{padding:0}",""])},367:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-color",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},methods:{setColor:function(t){},valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},368:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-color"},[n("el-input",{staticClass:"color-shower",attrs:{placeholder:"请输入内容"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},[n("template",{slot:"prepend"},[n("el-color-picker",{staticClass:"color-picker",on:{"active-change":t.setColor},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],2)],1)},staticRenderFns:[]}},369:function(t,e,n){var o=n(27)(n(370),n(371),null,null,null);t.exports=o.exports},370:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"form-enum",props:{form:{type:Object,default:function(){return{}}},option:{type:Object,default:function(){return{enum:[]}}}},data:function(){return{}},created:function(){var t=this;t.option.enum||(t.option.enum=[])},methods:{valueChange:function(t){this.$emit("change")}},watch:{"form.value":"valueChange"}}},371:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{staticClass:"form-enum",attrs:{size:"small",placeholder:t.option.description||"请选择"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}},t._l(t.option.enum,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))},staticRenderFns:[]}},372:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"settingConfig",staticClass:"setting-form",attrs:{model:t.formJson,rules:t.settingRules,"label-width":"25%"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("el-collapse",{model:{value:t.collapseList,callback:function(e){t.collapseList=e},expression:"collapseList"}},t._l(t.layout,function(e,o){return n("el-collapse-item",{key:e.title,attrs:{title:e.title,name:o}},t._l(t.settings,function(o,r){return e.contains.includes(r)?n("el-form-item",{key:r,attrs:{label:o.title,prop:r}},[n(o.format,{tag:"component",staticClass:"setting-line",attrs:{form:t.settingForm[r],option:o},on:{change:function(e){t.formChanged(r)}}})],1):t._e()}))}))],1)},staticRenderFns:[]}},484:function(t,e,n){var o=n(485);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(340)("95b88484",o,!0)},485:function(t,e,n){e=t.exports=n(106)(!1),e.push([t.i,".item-list .tool[data-v-45af0f22]{margin:20px auto;width:80%}.item-list .my-list[data-v-45af0f22]{text-align:center;margin:20px auto;width:80%}.item-list .my-list .tag[data-v-45af0f22]{margin:4px}.item-list .my-list .tag.physical[data-v-45af0f22]{color:#fe4c40;background-color:#fcc;border-color:#fe4c40}.item-list .my-list .tag.spell[data-v-45af0f22]{color:#96c;background-color:#d9b3e6;border-color:#96c}.item-list .my-list .tag.supporter[data-v-45af0f22]{color:#199475;background-color:#9c3;border-color:#199475}.item-list .my-list .line-btn[data-v-45af0f22]{margin:0 10px}",""])},486:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(28);e.default={name:"item-list",created:function(){this.getList()},data:function(){return{typeMap:{food:"food",weapon:"weapon",armor:"armor"},list:[],page:1,total:0,size:10}},methods:{toAdd:function(){this.$router.push({name:"Item-Edit",params:{id:0}})},toEdit:function(t){this.$router.push({name:"Item-Edit",params:{id:t}})},sizeChange:function(t){this.size=t,this.getList()},pageChange:function(t){this.page=t,this.getList()},getList:function(){var t=this;t.$ajax("get","/api/item",{page:t.page,size:t.size},function(e){e.list.forEach(function(t){t.showDelete=!1}),t.list=e.list,t.total=e.total})},deleteLine:function(t){var e=this,n=t.id||t._id;return e.$ajax("delete","/api/item/"+n,{},function(t){e.getList()})}},computed:Object(o.b)({}),watch:{},components:{}}},487:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-list"},[n("div",{staticClass:"tool"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.toAdd}})],1),n("el-table",{staticClass:"my-list",attrs:{data:t.list,border:"","highlight-current-row":!0}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),n("el-table-column",{attrs:{prop:"name",label:"Name"}}),n("el-table-column",{attrs:{prop:"type",label:"Type",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.types,function(e){return n("el-tag",{key:e,staticClass:"tag",class:[t.typeMap[e]],attrs:{type:"success","close-transition":""}},[t._v(t._s(e))])})}}])}),n("el-table-column",{attrs:{label:"Create Time",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("date")(e.row.create_time))+"\n      ")]}}])}),n("el-table-column",{attrs:{label:"Operation",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticClass:"line-btn",attrs:{type:"text",size:"mini"},on:{click:function(n){t.toEdit(e.row.id)}}},[t._v("Edit")]),n("el-popover",{attrs:{width:"160"},model:{value:e.row.showDelete,callback:function(n){t.$set(e.row,"showDelete",n)},expression:"scope.row.showDelete"}},[n("p",[t._v("确定删除吗？")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.row.showDelete=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){t.deleteLine(e.row)}}},[t._v("确定")])],1),n("el-button",{staticClass:"line-btn",attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[t._v("Delete")])],1)]}}])})],1),n("el-pagination",{staticClass:"tool",attrs:{"current-page":t.page,"page-sizes":[5,10,15,20],"page-size":t.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)},staticRenderFns:[]}},488:function(t,e,n){var o=n(489);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(340)("ef9b3b24",o,!0)},489:function(t,e,n){e=t.exports=n(106)(!1),e.push([t.i,".item-edit .my-form[data-v-54f7368e]{margin:60px auto;width:70%}",""])},490:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(28),r=n(352),a=n.n(r);e.default={name:"item-edit",created:function(){},data:function(){return{values:{name:"Peach",type:"food",color:"#FF6E97",amount:4},settings:{name:{title:"Name",description:"No more than 8 words",type:"string",format:"string",default:"ItemX",required:!0},type:{title:"Type",description:"Item type",type:"string",format:"enum",enum:[{label:"food",value:"food"},{label:"weapon",value:"weapon"},{label:"armor",value:"armor"}],default:"weapon",required:!0},color:{title:"Color",description:"Please input the color in hex-format",type:"string",format:"color",default:"#FFF",required:!0},amount:{title:"Amount",type:"number",format:"number",default:1}},layout:[{title:"Basic Info",contains:["name","type"]},{title:"Basic Attributes",contains:["color","amount"]},{title:"Extra Attributes",contains:[]}]}},methods:{toList:function(){this.$router.push({name:"Item-List"})},formChange:function(t,e){},formFilled:function(t){}},computed:Object(o.b)({}),watch:{},components:{cForm:a.a}}},491:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-edit"},[n("c-form",{staticClass:"my-form",attrs:{settings:t.settings,layout:t.layout,values:t.values},on:{valid:t.formFilled,change:t.formChange}})],1)},staticRenderFns:[]}},502:function(t,e,n){function o(t){n(484)}var r=n(27)(n(486),n(487),o,"data-v-45af0f22",null);t.exports=r.exports},503:function(t,e,n){function o(t){n(488)}var r=n(27)(n(490),n(491),o,"data-v-54f7368e",null);t.exports=r.exports}});